# Backend
PORT=8000
WS_PATH=/ws/telemetry
TICK_HZ=20
REASON_HZ=1

# ---- Groq ----
GROQ_API_KEY= # <-- paste your Groq API key here
MODEL_NAME=openai/gpt-oss-20b    # or openai/gpt-oss-120b for final demo

# Optional tuning knobs (safe defaults already in agent.py)
LLM_TEMPERATURE=0.2
LLM_TIMEOUT_S=60
LLM_MAX_TOKENS=512
LLM_MAX_RETRIES=5
LLM_BACKOFF_BASE_S=0.5

# ===== Embeddings (CPU-friendly) =====
EMBEDDINGS_MODEL=intfloat/e5-small-v2
USE_CROSS_ENCODER_NLI=0
CROSS_ENCODER_NLI_MODEL=cross-encoder/nli-deberta-v3-small

#====== retriever logging =======

LOG_RETRIEVAL=1              # on/off
LOG_RETRIEVAL_TOPN=3         # how many per section to print
LOG_RETRIEVAL_SAMPLE_N=1     # log every N ticks (set 5 or 10 to reduce noise)
LOG_RETRIEVAL_TEXT=0         # 1 to include a short text prefix (useful in dev)
LOG_RETRIEVAL_TEXT_PREFIX=80 # chars of text to include when LOG_RETRIEVAL_TEXT=1

# ============ Governor / context budget
CONTEXT_BUDGET_TOKENS=6000
CONTEXT_SECTION_ORDER=state,recent,lessons,facts,qa,docs

BUDGET_PCT_STATE=10
BUDGET_PCT_RECENT=10
BUDGET_PCT_LESSONS=40
BUDGET_PCT_FACTS=20
BUDGET_PCT_QA=15
BUDGET_PCT_DOCS=5

CAP_TOK_STATE=400
CAP_TOK_RECENT=220
CAP_TOK_LESSONS=350
CAP_TOK_FACTS=80
CAP_TOK_QA=220
CAP_TOK_DOCS=500

ABS_MAX_TOK_STATE=600
ABS_MAX_TOK_RECENT=280
ABS_MAX_TOK_LESSONS=420
ABS_MAX_TOK_FACTS=100
ABS_MAX_TOK_QA=280
ABS_MAX_TOK_DOCS=650

LOG_GOVERNOR=1
GOV_USE_LLM_SUMMARY=0   # keep off during 1Hz loop; enable later if needed

# Events
EVT_XWIND_HIGH=8.0
EVT_SINK_NEAR_GROUND=-6.5
EVT_SINK_ALT_LIMIT_M=50

GATE_CROSSWIND_WARN=6.0
GATE_CROSSWIND_MAX=10.0
GATE_SINK_NEAR_GROUND_MIN=-6.0
GATE_SINK_NEAR_GROUND_ALT=50
GATE_BANK_LOW_ALT_MAX_DEG=25
GATE_BANK_LOW_ALT=30
GATE_FLARE_MIN_ALT=8
GATE_FLARE_MAX_ALT=18
GATE_SAFE_FALLBACK_ACTION="Stabilize approach: reduce sink â‰¤3 m/s, align crab, prepare flare within window."